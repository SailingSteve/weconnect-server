/// An ordered series of steps to accomplish an onboarding goal
model PersonProcess {
  id           Int      @id @default(autoincrement())
  processName  String
  description  String?
  /// To be completed based on team(s) the volunteer is in
  isForTeam    Boolean?
  /// This is a process that is in use
  statusActive Boolean  @default(false)
  teams        Team[]
}

/// One step in a PersonProcess
model PersonProcessStep {
  id                          Int      @id @default(autoincrement())
  /// Where HR team goes to do this step
  actionUrl                   String?
  description                 String?
  googleDriveFolderId         String?
  /// Documentation for this step
  infoUrl                     String?
  isGoogleDrivePermissionStep Boolean?
  /// What step is this in the process
  order                       Int      @default(0)
  /// Id of the process this step is a part of
  processId                   Int
  stepName                    String
}

/// The status of one step in an onboarding process, for one person
model PersonProcessStepStatus {
  id                    Int      @id @default(autoincrement())
  dateLastUpdated       DateTime @default(now()) @updatedAt
  /// The HR team member triggering the completion of the step
  doneByPersonId        Int?
  googleDriveSuccess    Boolean?
  /// Id of the person being taking through this process
  personId              Int
  statusDone            Boolean  @default(false)
  statusError           Boolean?
  /// If there was an issue, it has been resolved
  statusErrorResolved   Boolean?
  statusResolvedComment String?
  statusToDo            Boolean?
}

///
model PersonProcessStepChangeLog {
  id                Int      @id @default(autoincrement())
  changeDescription String
  dateCreated       DateTime @default(now())
  dateLastUpdated   DateTime @default(now()) @updatedAt
  /// The HR team member triggering the completion of the step
  doneByPersonId    Int?
  /// Id of the person this log entry is related to
  personId          Int
  statusDone        Boolean?
  statusToDo        Boolean?
  /// PersonProcessStepStatus this is related to
  stepStatusId      Int
}
